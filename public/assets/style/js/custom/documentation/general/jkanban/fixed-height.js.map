{"version":3,"file":"js/custom/documentation/general/jkanban/fixed-height.js","mappings":";;;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://metronic/../demo8/src/js/custom/documentation/general/jkanban/fixed-height.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTJKanbanDemoFixedHeight = function () {\r\n    var element;\r\n    var kanbanEl;\r\n\r\n    // Private functions\r\n    var exampleFixedHeight = function () {\r\n        // Get kanban height value\r\n        const kanbanHeight = kanbanEl.getAttribute('data-kt-jkanban-height');\r\n\r\n        // Init jKanban\r\n        var kanban = new jKanban({\r\n            element: element,\r\n            gutter: '0',\r\n            widthBoard: '250px',\r\n            boards: [{\r\n                'id': '_fixed_height',\r\n                'title': 'Fixed Height',\r\n                'class': 'primary',\r\n                'item': [\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 1</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 2</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 3</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 4</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 5</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 6</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 7</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 8</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 9</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 10</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 11</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 12</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 13</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 14</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 15</span>'\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                'id': '_fixed_height2',\r\n                'title': 'Fixed Height 2',\r\n                'class': 'success',\r\n                'item': [\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 1</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 2</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 3</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 4</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 5</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 6</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 7</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 8</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 9</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 10</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 11</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 12</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 13</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 14</span>'\r\n                    },\r\n                    {\r\n                        'title': '<span class=\"fw-bold\">Item 15</span>'\r\n                    },\r\n                ]\r\n            }\r\n            ],\r\n\r\n            // Handle item scrolling\r\n            dragEl: function (el, source) {\r\n                document.addEventListener('mousemove', isDragging);\r\n            },\r\n\r\n            dragendEl: function (el) {\r\n                document.removeEventListener('mousemove', isDragging);\r\n            }\r\n        });\r\n\r\n        // Set jKanban max height\r\n        const allBoards = kanbanEl.querySelectorAll('.kanban-drag');\r\n        allBoards.forEach(board => {\r\n            board.style.maxHeight = kanbanHeight + 'px';\r\n        });\r\n    }\r\n\r\n    const isDragging = (e) => {\r\n        const allBoards = kanbanEl.querySelectorAll('.kanban-drag');\r\n        allBoards.forEach(board => {\r\n            // Get inner item element\r\n            const dragItem = board.querySelector('.gu-transit');\r\n\r\n            // Stop drag on inactive board\r\n            if (!dragItem) {\r\n                return;\r\n            }\r\n\r\n            // Get jKanban drag container\r\n            const containerRect = board.getBoundingClientRect();\r\n\r\n            // Get inner item size\r\n            const itemSize = dragItem.offsetHeight;\r\n\r\n            // Get dragging element position\r\n            const dragMirror = document.querySelector('.gu-mirror');\r\n            const mirrorRect = dragMirror.getBoundingClientRect();\r\n\r\n            // Calculate drag element vs jKanban container\r\n            const topDiff = mirrorRect.top - containerRect.top;\r\n            const bottomDiff = containerRect.bottom - mirrorRect.bottom;\r\n\r\n            // Scroll container\r\n            if (topDiff <= itemSize) {\r\n                // Scroll up if item at top of container\r\n                board.scroll({\r\n                    top: board.scrollTop - 3,\r\n                });\r\n            } else if (bottomDiff <= itemSize) {\r\n                // Scroll down if item at bottom of container\r\n                board.scroll({\r\n                    top: board.scrollTop + 3,\r\n                });\r\n            } else {\r\n                // Stop scroll if item in middle of container\r\n                board.scroll({\r\n                    top: board.scrollTop,\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        // Public Functions\r\n        init: function () {\r\n            element = '#kt_docs_jkanban_fixed_height';\r\n            kanbanEl = document.querySelector(element);\r\n\r\n            exampleFixedHeight();\r\n        }\r\n    };\r\n}();\r\n\r\n// On document ready\r\nKTUtil.onDOMContentLoaded(function () {\r\n    KTJKanbanDemoFixedHeight.init();\r\n});\r\n"],"names":[],"sourceRoot":""}