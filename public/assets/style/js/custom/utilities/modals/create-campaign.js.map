{"version":3,"file":"js/custom/utilities/modals/create-campaign.js","mappings":";;;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc,kEAAkE,mCAAmC,IAAI,4BAA4B;AAC/K;AACA;AACA,sCAAsC;AACtC,mGAAmG,YAAY;AAC/G;AACA,qEAAqE,cAAc;AACnF;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mDAAmD,mCAAmC;AACtF;AACA,gDAAgD,YAAY;AAC5D,4CAA4C,cAAc;AAC1D;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM,gCAAgC;AACtC,MAAM,iEAAiE;AACvE,MAAM,8BAA8B;AACpC,MAAM,6BAA6B;AACnC,MAAM,4BAA4B;AAClC,MAAM,4BAA4B;AAClC,MAAM,8BAA8B;AACpC,MAAM,6BAA6B;AACnC,MAAM,8BAA8B;AACpC,MAAM,gCAAgC;AACtC,MAAM,8BAA8B;AACpC,MAAM,8BAA8B;AACpC,MAAM,4BAA4B;AAClC,MAAM,gCAAgC;AACtC,MAAM,4BAA4B;AAClC,MAAM,8BAA8B;AACpC,MAAM,4BAA4B;AAClC,MAAM,6BAA6B;AACnC,MAAM,iCAAiC;AACvC,MAAM,6BAA6B;AACnC,MAAM,kCAAkC;AACxC,MAAM,kCAAkC;AACxC,MAAM,6BAA6B;AACnC,MAAM,kCAAkC;AACxC,MAAM,gCAAgC;AACtC,MAAM,kCAAkC;AACxC,MAAM,6BAA6B;AACnC,MAAM,kCAAkC;AACxC,MAAM,+BAA+B;AACrC,MAAM,8BAA8B;AACpC,MAAM,qCAAqC;AAC3C,MAAM,oCAAoC;AAC1C,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://metronic/../demo8/src/js/custom/utilities/modals/create-campaign.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTCreateCampaign = function () {\r\n\t// Elements\r\n\tvar modal;\r\n\tvar modalEl;\r\n\r\n\tvar stepper;\r\n\tvar form;\r\n\tvar formSubmitButton;\r\n\tvar formContinueButton;\r\n\r\n\t// Variables\r\n\tvar stepperObj;\r\n\tvar validations = [];\r\n\r\n\t// Private Functions\r\n\tvar initStepper = function () {\r\n\t\t// Initialize Stepper\r\n\t\tstepperObj = new KTStepper(stepper);\r\n\r\n\t\t// Stepper change event(handle hiding submit button for the last step)\r\n\t\tstepperObj.on('kt.stepper.changed', function (stepper) {\r\n\t\t\tif (stepperObj.getCurrentStepIndex() === 4) {\r\n\t\t\t\tformSubmitButton.classList.remove('d-none');\r\n\t\t\t\tformSubmitButton.classList.add('d-inline-block');\r\n\t\t\t\tformContinueButton.classList.add('d-none');\r\n\t\t\t} else if (stepperObj.getCurrentStepIndex() === 5) {\r\n\t\t\t\tformSubmitButton.classList.add('d-none');\r\n\t\t\t\tformContinueButton.classList.add('d-none');\r\n\t\t\t} else {\r\n\t\t\t\tformSubmitButton.classList.remove('d-inline-block');\r\n\t\t\t\tformSubmitButton.classList.remove('d-none');\r\n\t\t\t\tformContinueButton.classList.remove('d-none');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Validation before going to next page\r\n\t\tstepperObj.on('kt.stepper.next', function (stepper) {\r\n\t\t\tconsole.log('stepper.next');\r\n\r\n\t\t\t// Validate form before change stepper step\r\n\t\t\tvar validator = validations[stepper.getCurrentStepIndex() - 1]; // get validator for currnt step\r\n\r\n\t\t\tif (validator) {\r\n\t\t\t\tvalidator.validate().then(function (status) {\r\n\t\t\t\t\tconsole.log('validated!');\r\n\r\n\t\t\t\t\tif (status == 'Valid') {\r\n\t\t\t\t\t\tstepper.goNext();\r\n\r\n\t\t\t\t\t\t//KTUtil.scrollTop();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Show error message popup. For more info check the plugin's official documentation: https://sweetalert2.github.io/\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\ttext: \"Sorry, looks like there are some errors detected, please try again.\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tbuttonsStyling: false,\r\n\t\t\t\t\t\t\tconfirmButtonText: \"Ok, got it!\",\r\n\t\t\t\t\t\t\tcustomClass: {\r\n\t\t\t\t\t\t\t\tconfirmButton: \"btn btn-light\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(function () {\r\n\t\t\t\t\t\t\t//KTUtil.scrollTop();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tstepper.goNext();\r\n\r\n\t\t\t\tKTUtil.scrollTop();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Prev event\r\n\t\tstepperObj.on('kt.stepper.previous', function (stepper) {\r\n\t\t\tconsole.log('stepper.previous');\r\n\r\n\t\t\tstepper.goPrevious();\r\n\t\t\tKTUtil.scrollTop();\r\n\t\t});\r\n\r\n\t\tformSubmitButton.addEventListener('click', function (e) {\r\n\t\t\t// Prevent default button action\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// Disable button to avoid multiple click \r\n\t\t\tformSubmitButton.disabled = true;\r\n\r\n\t\t\t// Show loading indication\r\n\t\t\tformSubmitButton.setAttribute('data-kt-indicator', 'on');\r\n\r\n\t\t\t// Simulate form submission\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t// Hide loading indication\r\n\t\t\t\tformSubmitButton.removeAttribute('data-kt-indicator');\r\n\r\n\t\t\t\t// Enable button\r\n\t\t\t\tformSubmitButton.disabled = false;\r\n\r\n\t\t\t\tstepperObj.goNext();\r\n\t\t\t\t//KTUtil.scrollTop();\r\n\t\t\t}, 2000);\r\n\t\t});\r\n\t}\r\n\r\n\t// Init form inputs\r\n\tvar initForm = function () {\r\n\t\t// Init age slider\r\n\t\tvar slider = document.querySelector(\"#kt_modal_create_campaign_age_slider\");\r\n\t\tvar valueMin = document.querySelector(\"#kt_modal_create_campaign_age_min\");\r\n\t\tvar valueMax = document.querySelector(\"#kt_modal_create_campaign_age_max\");\r\n\r\n\t\tnoUiSlider.create(slider, {\r\n\t\t\tstart: [18, 40],\r\n\t\t\tconnect: true,\r\n\t\t\trange: {\r\n\t\t\t\t\"min\": 13,\r\n\t\t\t\t\"max\": 80\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tslider.noUiSlider.on(\"update\", function (values, handle) {\r\n\t\t\tif (handle) {\r\n\t\t\t\tvalueMax.innerHTML = Math.round(values[handle]);\r\n\t\t\t} else {\r\n\t\t\t\tvalueMin.innerHTML = Math.round(values[handle]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Init tagify\r\n\t\tvar tagify = new Tagify(document.querySelector('#kt_modal_create_campaign_location'), {\r\n\t\t\tdelimiters: null,\r\n\t\t\ttemplates: {\r\n\t\t\t\ttag: function (tagData) {\r\n\t\t\t\t\tconst countryPath = hostUrl + 'media/flags/' + tagData.value.toLowerCase().replace(/\\s+/g, '-') + '.svg';\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// _ESCAPE_START_\r\n\t\t\t\t\t\treturn `<tag title='${tagData.value}' contenteditable='false' spellcheck=\"false\" class='tagify__tag ${tagData.class ? tagData.class : \"\"}' ${this.getAttributes(tagData)}>\r\n                                <x title='remove tag' class='tagify__tag__removeBtn'></x>\r\n                                <div class=\"d-flex align-items-center\">\r\n                                    ${tagData.code ?\r\n\t\t\t\t\t\t\t\t`<img onerror=\"this.style.visibility = 'hidden'\" class=\"w-25px rounded-circle me-2\" src='${countryPath}' />` : ''\r\n\t\t\t\t\t\t\t}\r\n                                    <span class='tagify__tag-text'>${tagData.value}</span>\r\n                                </div>\r\n                            </tag>`\r\n\t\t\t\t\t\t// _ESCAPE_END_\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (err) { }\r\n\t\t\t\t},\r\n\r\n\t\t\t\tdropdownItem: function (tagData) {\r\n\t\t\t\t\tconst countryPath = hostUrl + 'media/flags/' + tagData.value.toLowerCase().replace(/\\s+/g, '-') + '.svg';\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// _ESCAPE_START_\r\n\t\t\t\t\t\treturn `<div class='tagify__dropdown__item ${tagData.class ? tagData.class : \"\"}'>\r\n                                    <img onerror=\"this.style.visibility = 'hidden'\" class=\"w-25px rounded-circle me-2\"\r\n                                         src='${countryPath}' />\r\n                                    <span>${tagData.value}</span>\r\n                                </div>`\r\n\t\t\t\t\t\t// _ESCAPE_END_\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (err) { }\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tenforceWhitelist: true,\r\n\t\t\twhitelist: [\r\n\t\t\t\t{ value: 'Argentina', code: 'AR' },\r\n\t\t\t\t{ value: 'Australia', code: 'AU', searchBy: 'beach, sub-tropical' },\r\n\t\t\t\t{ value: 'Austria', code: 'AT' },\r\n\t\t\t\t{ value: 'Brazil', code: 'BR' },\r\n\t\t\t\t{ value: 'China', code: 'CN' },\r\n\t\t\t\t{ value: 'Egypt', code: 'EG' },\r\n\t\t\t\t{ value: 'Finland', code: 'FI' },\r\n\t\t\t\t{ value: 'France', code: 'FR' },\r\n\t\t\t\t{ value: 'Germany', code: 'DE' },\r\n\t\t\t\t{ value: 'Hong Kong', code: 'HK' },\r\n\t\t\t\t{ value: 'Hungary', code: 'HU' },\r\n\t\t\t\t{ value: 'Iceland', code: 'IS' },\r\n\t\t\t\t{ value: 'India', code: 'IN' },\r\n\t\t\t\t{ value: 'Indonesia', code: 'ID' },\r\n\t\t\t\t{ value: 'Italy', code: 'IT' },\r\n\t\t\t\t{ value: 'Jamaica', code: 'JM' },\r\n\t\t\t\t{ value: 'Japan', code: 'JP' },\r\n\t\t\t\t{ value: 'Jersey', code: 'JE' },\r\n\t\t\t\t{ value: 'Luxembourg', code: 'LU' },\r\n\t\t\t\t{ value: 'Mexico', code: 'MX' },\r\n\t\t\t\t{ value: 'Netherlands', code: 'NL' },\r\n\t\t\t\t{ value: 'New Zealand', code: 'NZ' },\r\n\t\t\t\t{ value: 'Norway', code: 'NO' },\r\n\t\t\t\t{ value: 'Philippines', code: 'PH' },\r\n\t\t\t\t{ value: 'Singapore', code: 'SG' },\r\n\t\t\t\t{ value: 'South Korea', code: 'KR' },\r\n\t\t\t\t{ value: 'Sweden', code: 'SE' },\r\n\t\t\t\t{ value: 'Switzerland', code: 'CH' },\r\n\t\t\t\t{ value: 'Thailand', code: 'TH' },\r\n\t\t\t\t{ value: 'Ukraine', code: 'UA' },\r\n\t\t\t\t{ value: 'United Kingdom', code: 'GB' },\r\n\t\t\t\t{ value: 'United States', code: 'US' },\r\n\t\t\t\t{ value: 'Vietnam', code: 'VN' }\r\n\t\t\t],\r\n\t\t\tdropdown: {\r\n\t\t\t\tenabled: 1, // suggest tags after a single character input\r\n\t\t\t\tclassname: 'extra-properties' // custom class for the suggestions dropdown\r\n\t\t\t} // map tags' values to this property name, so this property will be the actual value and not the printed value on the screen\r\n\t\t})\r\n\r\n\t\t// add the first 2 tags and makes them readonly\r\n\t\tvar tagsToAdd = tagify.settings.whitelist.slice(0, 2);\r\n\t\ttagify.addTags(tagsToAdd);\r\n\r\n\t\t// Init flatpickr\r\n\t\t$(\"#kt_modal_create_campaign_datepicker\").flatpickr({\r\n\t\t\taltInput: true,\r\n\t\t\tenableTime: true,\r\n\t\t\taltFormat: \"F j, Y H:i\",\r\n\t\t\tdateFormat: \"Y-m-d H:i\",\r\n\t\t\tmode: \"range\"\r\n\t\t});\r\n\r\n\t\t// Init dropzone\r\n\t\tvar myDropzone = new Dropzone(\"#kt_modal_create_campaign_files_upload\", {\r\n\t\t\turl: \"https://keenthemes.com/scripts/void.php\", // Set the url for your upload script location\r\n\t\t\tparamName: \"file\", // The name that will be used to transfer the file\r\n\t\t\tmaxFiles: 10,\r\n\t\t\tmaxFilesize: 10, // MB\r\n\t\t\taddRemoveLinks: true,\r\n\t\t\taccept: function(file, done) {\r\n\t\t\t\tif (file.name == \"wow.jpg\") {\r\n\t\t\t\t\tdone(\"Naha, you don't.\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Handle campaign duration options\r\n\t\tconst allDuration = document.querySelector('#kt_modal_create_campaign_duration_all');\r\n\t\tconst fixedDuration = document.querySelector('#kt_modal_create_campaign_duration_fixed');\r\n\t\tconst datepicker = document.querySelector('#kt_modal_create_campaign_datepicker');\r\n\r\n\t\t[allDuration, fixedDuration].forEach(option => {\r\n\t\t\toption.addEventListener('click', e => {\r\n\t\t\t\tif (option.classList.contains('active')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tallDuration.classList.toggle('active');\r\n\t\t\t\tfixedDuration.classList.toggle('active');\r\n\r\n\t\t\t\tif (fixedDuration.classList.contains('active')) {\r\n\t\t\t\t\tdatepicker.nextElementSibling.classList.remove('d-none');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatepicker.nextElementSibling.classList.add('d-none');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// Init budget slider\r\n\t\tvar budgetSlider = document.querySelector(\"#kt_modal_create_campaign_budget_slider\");\r\n\t\tvar budgetValue = document.querySelector(\"#kt_modal_create_campaign_budget_label\");\r\n\r\n\t\tnoUiSlider.create(budgetSlider, {\r\n\t\t\tstart: [5],\r\n\t\t\tconnect: true,\r\n\t\t\trange: {\r\n\t\t\t\t\"min\": 1,\r\n\t\t\t\t\"max\": 500\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tbudgetSlider.noUiSlider.on(\"update\", function (values, handle) {\r\n\t\t\tbudgetValue.innerHTML = Math.round(values[handle]);\r\n\t\t\tif (handle) {\r\n\t\t\t\tbudgetValue.innerHTML = Math.round(values[handle]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Handle create new campaign button\r\n\t\tconst restartButton = document.querySelector('#kt_modal_create_campaign_create_new');\r\n\t\trestartButton.addEventListener('click', function () {\r\n\t\t\tform.reset();\r\n\t\t\tstepperObj.goTo(1);\r\n\t\t});\r\n\t}\r\n\r\n\tvar initValidation = function () {\r\n\t\t// Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/\r\n\t\t// Step 1\r\n\t\tvalidations.push(FormValidation.formValidation(\r\n\t\t\tform,\r\n\t\t\t{\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tcampaign_name: {\r\n\t\t\t\t\t\tvalidators: {\r\n\t\t\t\t\t\t\tnotEmpty: {\r\n\t\t\t\t\t\t\t\tmessage: 'App name is required'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tavatar: {\r\n\t\t\t\t\t\tvalidators: {\r\n\t\t\t\t\t\t\tfile: {\r\n\t\t\t\t\t\t\t\textension: 'png,jpg,jpeg',\r\n\t\t\t\t\t\t\t\ttype: 'image/jpeg,image/png',\r\n\t\t\t\t\t\t\t\tmessage: 'Please choose a png, jpg or jpeg files only',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tplugins: {\r\n\t\t\t\t\ttrigger: new FormValidation.plugins.Trigger(),\r\n\t\t\t\t\tbootstrap: new FormValidation.plugins.Bootstrap5({\r\n\t\t\t\t\t\trowSelector: '.fv-row',\r\n\t\t\t\t\t\teleInvalidClass: '',\r\n\t\t\t\t\t\teleValidClass: ''\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t));\r\n\t}\r\n\r\n\treturn {\r\n\t\t// Public Functions\r\n\t\tinit: function () {\r\n\t\t\t// Elements\r\n\t\t\tmodalEl = document.querySelector('#kt_modal_create_campaign');\r\n\r\n\t\t\tif (!modalEl) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tmodal = new bootstrap.Modal(modalEl);\r\n\r\n\t\t\tstepper = document.querySelector('#kt_modal_create_campaign_stepper');\r\n\t\t\tform = document.querySelector('#kt_modal_create_campaign_stepper_form');\r\n\t\t\tformSubmitButton = stepper.querySelector('[data-kt-stepper-action=\"submit\"]');\r\n\t\t\tformContinueButton = stepper.querySelector('[data-kt-stepper-action=\"next\"]');\r\n\r\n\t\t\tinitStepper();\r\n\t\t\tinitForm();\r\n\t\t\tinitValidation();\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// On document ready\r\nKTUtil.onDOMContentLoaded(function () {\r\n\tKTCreateCampaign.init();\r\n});\r\n"],"names":[],"sourceRoot":""}